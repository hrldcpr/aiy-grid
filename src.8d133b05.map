{"version":3,"sources":["index.ts","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","document","querySelectorAll","i","length","module"],"mappings":"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","file":"src.8d133b05.map","sourceRoot":"../src","sourcesContent":["import 'sanitize.css';\n\nimport './index.scss';\nimport aiyPng from './aiy.png';\n\nconst COLUMNS = 6;\nconst ROWS = COLUMNS;\nconst W = 90;\nconst H = W;\nconst D = 10;\nconst RANGE = 400;\n\nconst range = (n: number) => [...Array(n).keys()];\n\nconst createSvgElement = (tag: string, attributes?: any) => {\n  const e = document.createElementNS('http://www.w3.org/2000/svg', tag);\n  for (const k in attributes) {\n    e.setAttribute(k, attributes[k]);\n  }\n  return e;\n};\n\nconst svg = document.getElementById('wall')!;\nsvg.setAttribute('width', (D + (W + D) * COLUMNS).toString());\nsvg.setAttribute('height', (D + (H + D) * ROWS).toString());\n\nconst glows = range(ROWS).map(row => {\n  const y = D + (H + D) * row;\n\n  return range(COLUMNS).map(column => {\n    const x = D + (W + D) * column;\n\n    const image = createSvgElement('image', {\n      x,\n      y,\n      width: W,\n      height: H,\n    });\n    image.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', aiyPng);\n    svg.appendChild(image);\n\n    const glow = createSvgElement('path', {\n      d: `M ${x} ${y} m ${0.4 * W} ${0.01 * H} l ${0.2 * W} 0 l 0 ${0.05 *\n        H} l ${-0.2 * W} 0 z`,\n      fill: 'none',\n      filter: 'url(#blur)',\n    });\n    svg.appendChild(glow);\n\n    return glow;\n  });\n});\n\nsvg.addEventListener('mousemove', ({ offsetX, offsetY }: MouseEvent) => {\n  glows.forEach((glows, row) => {\n    const y = D + (H + D) * (row + 0.5);\n\n    glows.forEach((glow, column) => {\n      const x = D + (W + D) * (column + 0.5);\n\n      const d = Math.hypot(offsetX - x, offsetY - y);\n      const a = Math.pow(Math.max(0, RANGE - d) / RANGE, 2);\n      glow.setAttribute('fill', `rgba(0, 255, 255, ${a})`);\n    });\n  });\n});\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}